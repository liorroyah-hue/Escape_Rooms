תיעוד פרויקט גמר – בגרות 5 יח"ל במדעי המחשב
שם הפרויקט: Cyber Escape - חדר בריחה דיגיטלי מבוסס AI

1. מבוא ורעיון כללי
-------------------
האפליקציה "Cyber Escape" היא פלטפורמה לחדרי בריחה דיגיטליים המשלבת תוכן סטטי מתוך בסיס נתונים ותוכן דינמי הנוצר בזמן אמת באמצעות בינה מלאכותית (Gemini AI). הפרויקט נועד לספק חוויה משחקית אימרסיבית הכוללת חידות, סרטוני אווירה מיוטיוב, ואפקטים קוליים ופיזיים (רטט), תוך שמירה על עיצוב תעשייתי-טכנולוגי (Cyber Theme).

2. דרישות המערכת
----------------
2.1 דרישות פונקציונליות:
- ניהול משתמשים: הרשמה והתחברות מול בסיס נתונים בענן (Supabase).
- בחירת מסלול: אפשרות למשחק בחדרים קבועים מראש או יצירת משחק מותאם אישית ע"י AI.
- מנגנון משחק: הצגת 10 שלבים, בכל שלב 2 שאלות אמריקאיות.
- מולטימדיה: ניגון מוזיקת רקע משתנה, אפקטים קוליים וסרטוני יוטיוב לפני כל שלב.
- מדידת ביצועים: מעקב אחרי זמן פתרון של כל חדר ושמירת התוצאות הסופיות.

2.2 דרישות לא-פונקציונליות:
- חוויית משתמש (UI/UX): עיצוב Dark Mode מבוסס ConstraintLayout.
- אמינות: מנגנון Retry אוטומטי בעת עומס על ה-API (שגיאת 429).
- ביצועים: עבודה אסינכרונית (Multi-threading) כדי לא לחסום את ממשק המשתמש.

3. ארכיטקטורה ומבנה קוד
-----------------------
הפרויקט בנוי בתבנית MVVM (Model-View-ViewModel), המפרידה בין הלוגיקה העסקית לתצוגה:
- View (Activities/Fragments): אחראים אך ורק על הצגת הנתונים למשתמש.
- ViewModel: מנהל את הנתונים והמצב של המסך ומתקשר עם ה-Repository.
- Model: מייצג את ישויות הנתונים (User, Question, QuizData).
- Repository: אחראי על שליפת הנתונים (מ-Supabase או מ-Gemini API).

3.1 דפוסי עיצוב (Design Patterns):
- Singleton: מחלקת GameAudioManager ממומשת כ-Singleton להבטחת נגן יחיד.
- Observer: שימוש ב-LiveData לעדכון אוטומטי של ה-View.

4. תיאור טכנולוגי
-----------------
4.1 בסיס נתונים - Supabase:
השתמשתי ב-Supabase (PostgreSQL) לאחסון משתמשי המערכת, שאלות המשחק הקבועות ותוצאות השחקנים. התקשורת מתבצעת באמצעות REST API וספריית OkHttp.

4.2 בינה מלאכותית - Gemini API:
האפליקציה שולחת פרומפטים מורכבים ל-Gemini לקבלת אובייקט JSON הכולל שאלות, תשובות ומזהי סרטונים. פותח מנגנון לניקוי ופירוק (Parsing) של ה-JSON באמצעות GSON.

4.3 ניהול סאונד ורטט:
מחלקת ה-GameAudioManager מנהלת מוזיקת רקע אקראית, השהיית מוזיקה בעת השמעת אפקט (הצלחה/טעות) וחזרה אוטומטית, וכן מנגנון רטט (Haptic Feedback).

5. תיאור אלגוריתמי מעניין
-------------------------
מנגנון ה-Progress Bar הסגמנטלי: במסך בחירת המשחק, פותח אלגוריתם המדמה טעינת מערכת. הבר מתקדם בסגמנטים בכל 2 שניות. במצב AI, הבר מתקדם עד הסגמנט ה-9 וממתין לתשובת השרת. ברגע קבלת הנתונים, הבר קופץ ל-100% ומבצע מעבר מסך.

6. בדיקות תוכנה (Testing)
-------------------------
הפרויקט כולל בדיקות יחידה (Unit Tests) למודל הנתונים Questions:
- בדיקת תקינות: וידוא שהמרת נתונים מ-List או מ-AI יוצרת אובייקט משחק תקין.
- בדיקת מקרי קצה: טיפול במצבים של רשימת שאלות ריקה או נתונים חסרים (Fallback).
